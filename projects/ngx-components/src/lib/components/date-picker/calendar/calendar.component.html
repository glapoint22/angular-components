<div #calendarBase class="calendar-base" (click)="$event.stopPropagation()" tabindex="0">
    <div class="calendar-header">
        <div style="display: flex; align-items: center;">
            <icon (click)="updateMonth(-1)">arrow_left</icon>
            <div (click)="changeView(calendarView.Month)" class="calendar-month-text">{{ getMonthName(selectedMonth) }}
            </div>
            <icon (click)="updateMonth(1)">arrow_right</icon>
        </div>

        <div style="display: flex; align-items: center;" (click)="updateDateToToday()">
            <icon [fontSize]="20" [opsz]="20">calendar_month</icon>
            <div class="calendar-month-text" style="margin-left: 5px;">Today</div>
        </div>


        <div style="display: flex; align-items: center;">
            <icon (click)="updateYear(-1)">arrow_left</icon>
            <div (click)="changeView(calendarView.Year)" class="calendar-month-text">{{ selectedYear }}</div>
            <icon (click)="updateYear(1)">arrow_right</icon>
        </div>



    </div>

    <div style="padding: 10px; height: 320px;">
        @switch (
        currentCalendarView
        ) {
        @case (calendarView.Day) {
        <day-view [date]="date()" [selectedDate]="selectedDate()" (onDateSelect)="onDateSelect($event)"></day-view>
        }
        @case (calendarView.Month) {
        <month-view [selectedMonth]="selectedMonth" [selectedYear]="selectedYear" (onMonthSelect)="onMonthSelect($event)">
        </month-view>
        }
        @case (calendarView.Year) {
        <year-view [selectedYear]="selectedYear" (onYearSelect)="onYearSelect($event)"></year-view>
        }
        }
    </div>
</div>